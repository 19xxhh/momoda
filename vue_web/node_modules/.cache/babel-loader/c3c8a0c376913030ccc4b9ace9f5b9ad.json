{"remainingRequest":"E:\\stamp_station\\vue_web\\node_modules\\babel-loader\\lib\\index.js!E:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\Market.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\Market.vue","mtime":1566311220027},{"path":"E:\\stamp_station\\vue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565362776135},{"path":"E:\\stamp_station\\vue_web\\node_modules\\babel-loader\\lib\\index.js","mtime":1565362774660},{"path":"E:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js","mtime":1565362803105}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport pagination from \"./pagination\";\nexport default {\n  data() {\n    return {\n      pros: [],\n      px: \"sdate\",\n      page: 0\n    };\n  },\n\n  components: {\n    pagination\n  },\n  methods: {\n    addcart(e) {\n      // 添加商品到购物车\n      var sid = e.target.dataset.sid;\n      this.axios.get(\"addcart\", {\n        params: {\n          sid\n        }\n      }).then(res => {\n        if (res.data.code == 0) {\n          this.$toast(\"请先登录\");\n        } else if (res.data.code == 1) {\n          this.$toast(\"添加成功\");\n        }\n      });\n    },\n\n    info(e) {\n      var sid = e.target.dataset.sid;\n      var url = `info?sid=${sid}`;\n      this.$router.push(url);\n    },\n\n    selc() {\n      var px = this.px;\n      var country = this.country;\n      var price = this.price;\n      var setTime = this.setTime;\n      this.axios.get(\"market\", {\n        params: {\n          px\n        }\n      }, {\n        params: {\n          country\n        }\n      }, {\n        params: {\n          price\n        }\n      }, {\n        params: {\n          sdate\n        }\n      }).then(res => {\n        this.pros = res.data.data;\n\n        for (var pro of this.pros) {\n          var date = pro.sdate;\n          var sdate = new Date(date);\n          var year = sdate.getUTCFullYear();\n          var month = sdate.getMonth() + 1;\n          var date1 = sdate.getDate();\n          pro.sdate = year + \"-\" + month + \"-\" + date1;\n        }\n      });\n    },\n\n    loadMore() {\n      // 获取商品分页数据\n      var url = \"pros\";\n      this.page++;\n      var obj = {\n        page: this.page\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(res => {\n        // 获取返回结果\n        console.log(res.data.data);\n        this.pros = res.data.data;\n      });\n    }\n\n  },\n\n  created() {\n    // this.loadMore();\n    // console.log(\"1:created 创建组件成功\")\n    // 获取后台数据\n    var px = this.px;\n    this.axios.get(\"market\", {\n      params: {\n        px\n      }\n    }).then(res => {\n      this.pros = res.data.data;\n\n      for (var pro of this.pros) {\n        var date = pro.sdate;\n        var sdate = new Date(date);\n        var year = sdate.getUTCFullYear();\n        var month = sdate.getMonth() + 1;\n        var date1 = sdate.getDate();\n        pro.sdate = year + \"-\" + month + \"-\" + date1;\n      }\n    }); // var date=new Date(this.pros[0]);\n    // console.log(date)\n    // date=getFullYear(date);\n  }\n\n};",{"version":3,"sources":["Market.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div id=\"market\">\r\n\t<!-- 下拉选择框 -->\r\n\t<h3 class=\"choice\">\r\n\t\t<select name=\"pxx\" v-model=\"px\" @change=\"selc\">\r\n\t\t\t<!-- <option value=\"sdate desc\">上架时间</option>\r\n\t\t\t<option value=\"sdate\">上架时间 升序</option> -->\r\n\t\t\t<option value=\"country\">按发行国家排列</option>\r\n\t\t\t<option value=\"price desc\">按价格从高到低</option>\r\n\t\t\t<option value=\"price\">按价格从低到高</option>\r\n\t\t\t<option value=\"sdate\">按商品发行时间</option>\r\n\t\t</select>\r\n\t</h3>\r\n\t<div class=\"probox\">\r\n\t<!-- 商品 -->\r\n\t\t<div class=\"product\" v-for=\"(prop,i) of pros\" :key=\"i\">\r\n\t\t\t<div class=\"product-img\">\r\n\t\t\t\t<a :data-sid=\"prop.sid\" @click=\"info\" :style=\"`background-image:url('${prop.imgurl}');`\"></a>\r\n\t\t\t</div>\t\t\t\r\n\t\t\t<ul>\r\n\t\t\t\t<li>编号：{{prop.snum}}</li>\r\n\t\t\t\t<li>国家：{{prop.nname}}</li>\r\n\t\t\t\t<li>发行年份：{{prop.sdate}}</li>\r\n\t\t\t\t<li class=\"title\">内容：{{prop.stitle}}</li>\r\n\t\t\t\t<li>价格：{{prop.price}}</li>\r\n\t\t\t</ul>\r\n\t\t\t<div class=\"collection\">\r\n\t\t\t\t<a href=\"javascript:;\"></a>\r\n\t\t\t\t<a @click=\"addcart\" :data-sid=\"prop.sid\"></a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- 引入分页栏 -->\r\n\t<pagination></pagination>\r\n</div>\r\n</template>\r\n<script>\r\nimport pagination from \"./pagination\";\r\nexport default {\r\n\tdata(){return {\r\n\t\tpros:[],\r\n\t\tpx:\"sdate\",\r\n\t\tpage:0\r\n\t}},\r\n\tcomponents: {pagination},\r\n\tmethods:{\r\n\t\taddcart(e){ // 添加商品到购物车\r\n\t\t\tvar sid=e.target.dataset.sid;\r\n\t\t\tthis.axios.get(\"addcart\",{params:{sid}}).then(res=>{\r\n\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\tthis.$toast(\"请先登录\");\t\t\t\t\t\r\n\t\t\t\t}else if(res.data.code==1){\r\n\t\t\t\t\tthis.$toast(\"添加成功\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tinfo(e){\r\n\t\t\tvar sid=e.target.dataset.sid;\r\n\t\t\tvar url=`info?sid=${sid}`;\r\n\t\t\tthis.$router.push(url);\r\n\t\t},\r\n\t\tselc(){\r\n\t\t\tvar px=this.px;\r\n\t\t\tvar country=this.country;\r\n\t\t\tvar price=this.price;\r\n\t\t\tvar setTime=this.setTime;\r\n\t\t\tthis.axios.get(\"market\",\r\n\t\t\t\t{params:{px}},\r\n\t\t\t\t{params:{country}},\r\n\t\t\t\t{params:{price}},\r\n\t\t\t\t{params:{sdate}})\r\n\t\t\t.then(res=>{\r\n\t\t\t\tthis.pros=res.data.data;\r\n\t\t\t\tfor(var pro of this.pros){\r\n\t\t\t\t\tvar date=pro.sdate;\r\n\t\t\t\t\tvar sdate=new Date(date);\r\n\t\t\t\t\tvar year=sdate.getUTCFullYear();\r\n\t\t\t\t\tvar month=sdate.getMonth()+1;\r\n\t\t\t\t\tvar date1=sdate.getDate();\r\n\t\t\t\t\tpro.sdate=year+\"-\"+month+\"-\"+date1\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tloadMore(){\r\n\t\t// 获取商品分页数据\r\n\t\tvar url=\"pros\";\r\n\t\tthis.page++;\r\n\t\tvar obj={page:this.page};\r\n\t\tthis.axios.get(url,{params:obj}).then(res=>{\r\n\t\t\t// 获取返回结果\r\n\t\t\tconsole.log(res.data.data);\r\n\t\t\tthis.pros=res.data.data\r\n\t\t\t})\r\n\t\t},\r\n\t},\r\n\tcreated(){\r\n\t\t// this.loadMore();\r\n\t\t// console.log(\"1:created 创建组件成功\")\r\n\t\t// 获取后台数据\r\n\t\tvar px=this.px;\r\n\t\tthis.axios.get(\"market\",{params:{px}}).then(res=>{\r\n\t\t\tthis.pros=res.data.data;\r\n\t\t\tfor(var pro of this.pros){\r\n\t\t\t\tvar date=pro.sdate;\r\n\t\t\t\tvar sdate=new Date(date);\r\n\t\t\t\tvar year=sdate.getUTCFullYear();\r\n\t\t\t\tvar month=sdate.getMonth()+1;\r\n\t\t\t\tvar date1=sdate.getDate();\r\n\t\t\t\tpro.sdate=year+\"-\"+month+\"-\"+date1\r\n\t\t\t}\r\n\t\t})\r\n\t\t// var date=new Date(this.pros[0]);\r\n\t\t// console.log(date)\r\n\t\t// date=getFullYear(date);\r\n\t},\r\n}\r\n</script>\r\n<style scoped>\r\n@import \"../css/Market.css\";\r\n</style>\r\n\r\n\r\n"],"sourceRoot":"src\\components\\stamp_station\\common"}]}