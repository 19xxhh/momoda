{"remainingRequest":"E:\\stamp_station\\vue_web\\node_modules\\babel-loader\\lib\\index.js!E:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\Stamp_detail.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\Stamp_detail.vue","mtime":1566311220046},{"path":"E:\\stamp_station\\vue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565362776135},{"path":"E:\\stamp_station\\vue_web\\node_modules\\babel-loader\\lib\\index.js","mtime":1565362774660},{"path":"E:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js","mtime":1565362803105}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data() {\n    return {\n      pro: [],\n      subs: []\n    };\n  },\n\n  methods: {\n    addcart(e) {\n      // 点击后跳转到购物车\n      var sid = e.target.dataset.sid;\n      var stitle = e.target.dataset.stitle;\n      var price = e.target.dataset.price; // 发送ajax请求\n\n      var url = \"addcart\";\n      var obj = {\n        sid: sid,\n        stitle: stitle,\n        price: price\n      }; // 获取返回的结果\n\n      this.axios.get(url, {\n        params: obj\n      }).then(res => {\n        if (res.data.code == 0) {\n          this.$messagebox(\"消息\", \"请登录\").then(res => {\n            this.$router.push(\"index\"); // res.send(\"请登录\")\n          });\n          alert(\"请登录\");\n        } else {\n          alert(\"添加成功\");\n          this.$router.push(\"/ShoppingCar\");\n        }\n      });\n    }\n\n  },\n\n  created() {\n    // 获取当前页面的地址，如：http://127.0.0.1:8080/#/info?sid=9\n    var url = window.location.href; // 提取地址中的sid值\n    // var sid=url.split(\"?\")[1].split(\"=\")[1];\n\n    var sid = url.split(\"=\")[1]; // 获取商品详细信息\n\n    this.axios.get(\"info\", {\n      params: {\n        sid\n      }\n    }).then(res => {\n      this.pro = res.data.data[0];\n    }); // 获取商品的相关专题\n\n    this.axios.get(\"infoSub\", {\n      params: {\n        sid\n      }\n    }).then(res => {\n      this.subs = res.data.data;\n    });\n  }\n\n};",{"version":3,"sources":["Stamp_detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,eAAA;AACA,SAAA;AAAA,WAAA;AACA,WAAA,EADA;AAEA,YAAA;AAFA,KAAA;AAGA,GAJA;;AAKA,WAAA;AACA,YAAA,CAAA,EAAA;AACA;AACA,UAAA,MAAA,EAAA,MAAA,CAAA,OAAA,CAAA,GAAA;AACA,UAAA,SAAA,EAAA,MAAA,CAAA,OAAA,CAAA,MAAA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAJA,CAKA;;AACA,UAAA,MAAA,SAAA;AACA,UAAA,MAAA;AAAA,aAAA,GAAA;AAAA,gBAAA,MAAA;AAAA,eAAA;AAAA,OAAA,CAPA,CAQA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,IAAA,CAAA,OAAA;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,eAAA,WAAA,CAAA,IAAA,EAAA,KAAA,EAAA,IAAA,CAAA,OAAA;AACA,iBAAA,OAAA,CAAA,IAAA,CAAA,OAAA,EADA,CAEA;AACA,WAHA;AAIA,gBAAA,KAAA;AACA,SANA,MAMA;AACA,gBAAA,MAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA,cAAA;AACA;AACA,OAXA;AAYA;;AAtBA,GALA;;AA6BA,YAAA;AACA;AACA,QAAA,MAAA,OAAA,QAAA,CAAA,IAAA,CAFA,CAGA;AACA;;AACA,QAAA,MAAA,IAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA,CALA,CAMA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,MAAA,EAAA;AAAA,cAAA;AAAA;AAAA;AAAA,KAAA,EAAA,IAAA,CAAA,OAAA;AACA,WAAA,GAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,KAFA,EAPA,CAUA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,SAAA,EAAA;AAAA,cAAA;AAAA;AAAA;AAAA,KAAA,EAAA,IAAA,CAAA,OAAA;AACA,WAAA,IAAA,GAAA,IAAA,IAAA,CAAA,IAAA;AACA,KAFA;AAGA;;AA3CA,CAAA","sourcesContent":["<template>\r\n<div id=\"Stamp_detail\">\r\n\t<h3 class=\"title2\">邮品详情</h3>\r\n\t<div class=\"details-title\">\r\n\t\t<div class=\"details-img\">\r\n\t\t\t<!-- 点击查看图片 -->\r\n\t\t\t<a :data-sid=\"pro.sid\" :href=\"pro.imgurl\" target=\"_blank\" :style=\"`background-image: url('${pro.imgurl}');`\">\r\n\t\t\t\t<!-- <img :src=\"pro.imgurl\"> -->\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-html=\"`商品名称：${pro.stitle}`\"></li>\r\n\t\t\t\t<li v-html=\"`商品编号：${pro.snum}`\"></li>\r\n\t\t\t\t<li v-html=\"`发行国家：${pro.nname}`\"></li>\r\n\t\t\t\t<li v-html=\"`发行时间：${pro.sdate}`\">2018年06月20日</li>\r\n\t\t\t\t<li>售　　价：<span v-html=\"`￥${pro.price}`\"></span></li>\r\n\t\t\t\t<li>目录志号：</li>\r\n\t\t\t</ul>\r\n\t\t\t<div class=\"details-car\">\r\n\t\t\t\t<!-- 点击商品，收藏 -->\r\n\t\t\t\t<a href=\"javascript:;\"></a>\r\n\t\t\t\t<!-- 点击将商品加入购物车中 -->\r\n\t\t\t\t<a  :data-sid=\"pro.sid\" :data-price=\"pro.price\" :data-stitle=\"pro.stitle\" @click=\"addcart\" href=\"javascript:;\"></a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<h4 class=\"remind\">您可能会在图片上发现我们为保护版权而加上的水印 标志。实物并无此水印，请您注意，谢谢!点击可放大 图片。</h4>\r\n\t<div class=\"details\">\r\n\t\t<h1 class=\"intr-title\">\r\n\t\t\t<span>详细介绍</span>\r\n\t\t</h1>\r\n\t\t<h2 class=\"title-1\">相关推荐</h2>\r\n\t\t<ul class=\"intr\">\r\n\t\t\t<li>相关专题：<a v-for=\"(s,i) of subs\" :key=\"i\">{{s.sub_name}} </a></li>\r\n\t\t\t<li  v-html=\"`相关国家：${pro.nname}`\"></li>\r\n\t\t\t<li>相关物品：暂时没有相关物品</li>\r\n\t\t</ul>\r\n\t</div>\r\n</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tdata(){return {\r\n\t\tpro:[],\r\n\t\tsubs:[],\r\n\t}},\r\n\tmethods:{\r\n\t\taddcart(e){\r\n\t\t\t// 点击后跳转到购物车\r\n\t\t\tvar sid=e.target.dataset.sid;\r\n\t\t\tvar stitle=e.target.dataset.stitle;\r\n\t\t\tvar price=e.target.dataset.price;\r\n\t\t\t // 发送ajax请求\r\n\t\t\tvar url=\"addcart\";\r\n\t\t\tvar obj={sid:sid,stitle:stitle,price:price};\r\n\t\t\t// 获取返回的结果\r\n\t\t\tthis.axios.get(url,{params:obj}).then(res=>{\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\tthis.$messagebox(\"消息\",\"请登录\").then(res=>{\r\n\t\t\t\t\t\t\tthis.$router.push(\"index\")\r\n\t\t\t\t\t\t\t// res.send(\"请登录\")\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\talert(\"请登录\")\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\talert(\"添加成功\");\r\n\t\t\t\t\t\tthis.$router.push(\"/ShoppingCar\")\r\n\t\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t},\r\n  created(){\r\n\t\t// 获取当前页面的地址，如：http://127.0.0.1:8080/#/info?sid=9\r\n\t\tvar url=window.location.href;\r\n\t\t// 提取地址中的sid值\r\n\t\t// var sid=url.split(\"?\")[1].split(\"=\")[1];\r\n\t\tvar sid=url.split(\"=\")[1];\r\n\t\t// 获取商品详细信息\r\n\t\tthis.axios.get(\"info\",{params:{sid}}).then(res=>{\r\n\t\t\tthis.pro=res.data.data[0];\r\n\t\t})\r\n\t\t// 获取商品的相关专题\r\n\t\tthis.axios.get(\"infoSub\",{params:{sid}}).then(res=>{\r\n\t\t\tthis.subs=res.data.data;\r\n\t\t})\r\n\t},\r\n}\r\n</script>\r\n<style scoped>\r\n@import \"../css/Stamp_detail.css\";\r\n</style>\r\n"],"sourceRoot":"src\\components\\stamp_station\\common"}]}