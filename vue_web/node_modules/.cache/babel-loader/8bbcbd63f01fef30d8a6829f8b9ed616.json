{"remainingRequest":"E:\\stamp_station\\vue_web\\node_modules\\babel-loader\\lib\\index.js!E:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\Header.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\Header.vue","mtime":1566311219949},{"path":"E:\\stamp_station\\vue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565362776135},{"path":"E:\\stamp_station\\vue_web\\node_modules\\babel-loader\\lib\\index.js","mtime":1565362774660},{"path":"E:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js","mtime":1565362803105}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data() {\n    return {\n      current: 0,\n      isLogin: 0,\n      user: [],\n      menus: [{\n        \"mtitle\": \"首页\",\n        \"murl\": \"/index\"\n      }, {\n        \"mtitle\": \"用户专区\",\n        \"murl\": \"\"\n      }, {\n        \"mtitle\": \"网上超市\",\n        \"murl\": \"/market\"\n      }, {\n        \"mtitle\": \"电子目录\",\n        \"murl\": \"/book\"\n      }, {\n        \"mtitle\": \"帮助中心\",\n        \"murl\": \"\"\n      }, {\n        \"mtitle\": \"联系我们\",\n        \"murl\": \"\"\n      }]\n    };\n  },\n\n  methods: {\n    select(e) {\n      this.current = e.target.dataset.id;\n    },\n\n    jumpTo(e) {\n      // 导航\n      var url = e.target.dataset.link;\n      this.$router.push(url); // 点击后跳转到相应的页面，页面地址通过自定义属性data-link获得\n    },\n\n    quitLogin(e) {\n      // 退出登录   \n      this.axios.get(\"quitLogin\").then(res => {\n        this.isLogin = 0;\n        this.$router.push(\"/index\");\n      });\n    },\n\n    ToShopping() {\n      // 跳转到购物车\n      this.$router.push(\"/shoppingcar\");\n    },\n\n    Tomanage() {\n      // 跳转到平后管理\n      this.$router.push(\"/manage\");\n    },\n\n    ToRegist() {\n      // 跳转到用户注册\n      this.$router.push(\"/Regist\");\n    }\n\n  },\n  props: [\"mid\"],\n  // 从父组件的mid属性中拿到mid\n  computed: {\n    date() {\n      var today = new Date();\n      var week = today.getDay();\n\n      switch (week) {\n        case 0:\n          week = \"天\";\n          break;\n\n        case 1:\n          week = \"一\";\n          break;\n\n        case 2:\n          week = \"二\";\n          break;\n\n        case 3:\n          week = \"三\";\n          break;\n\n        case 4:\n          week = \"四\";\n          break;\n\n        case 5:\n          week = \"五\";\n          break;\n\n        case 6:\n          week = \"六\";\n          break;\n      }\n\n      ;\n      return `今天是：${today.getFullYear()}年${today.getMonth() + 1}月${today.getDate()}日，星期${week}`;\n    }\n\n  },\n\n  created() {},\n\n  mounted() {\n    this.axios.get(\"initUser\").then(res => {\n      if (res.data.code == 0) {\n        //未登录        \n        this.isLogin = 0;\n      } else if (res.data.code == 1) {\n        // 已登录\n        this.isLogin = 1;\n        this.user = res.data.data[0];\n\n        if (res.data.data[0].uid == -1) {\n          //管理员登录\n          this.isLogin = 2;\n        }\n      }\n    });\n  }\n\n};",{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,eAAA;AACA,SAAA;AAAA,WAAA;AACA,eAAA,CADA;AAEA,eAAA,CAFA;AAGA,YAAA,EAHA;AAIA,aAAA,CACA;AAAA,kBAAA,IAAA;AAAA,gBAAA;AAAA,OADA,EAEA;AAAA,kBAAA,MAAA;AAAA,gBAAA;AAAA,OAFA,EAGA;AAAA,kBAAA,MAAA;AAAA,gBAAA;AAAA,OAHA,EAIA;AAAA,kBAAA,MAAA;AAAA,gBAAA;AAAA,OAJA,EAKA;AAAA,kBAAA,MAAA;AAAA,gBAAA;AAAA,OALA,EAMA;AAAA,kBAAA,MAAA;AAAA,gBAAA;AAAA,OANA;AAJA,KAAA;AAYA,GAbA;;AAcA,WAAA;AACA,WAAA,CAAA,EAAA;AACA,WAAA,OAAA,GAAA,EAAA,MAAA,CAAA,OAAA,CAAA,EAAA;AACA,KAHA;;AAIA,WAAA,CAAA,EAAA;AAAA;AACA,UAAA,MAAA,EAAA,MAAA,CAAA,OAAA,CAAA,IAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EAFA,CAEA;AACA,KAPA;;AAQA,cAAA,CAAA,EAAA;AAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,WAAA,EAAA,IAAA,CAAA,OAAA;AACA,aAAA,OAAA,GAAA,CAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,OAHA;AAIA,KAbA;;AAcA,iBAAA;AAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,cAAA;AACA,KAhBA;;AAiBA,eAAA;AAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA,KAnBA;;AAoBA,eAAA;AAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA;;AAtBA,GAdA;AAsCA,SAAA,CAAA,KAAA,CAtCA;AAsCA;AACA,YAAA;AACA,WAAA;AACA,UAAA,QAAA,IAAA,IAAA,EAAA;AACA,UAAA,OAAA,MAAA,MAAA,EAAA;;AACA,cAAA,IAAA;AACA,aAAA,CAAA;AAAA,iBAAA,GAAA;AAAA;;AACA,aAAA,CAAA;AAAA,iBAAA,GAAA;AAAA;;AACA,aAAA,CAAA;AAAA,iBAAA,GAAA;AAAA;;AACA,aAAA,CAAA;AAAA,iBAAA,GAAA;AAAA;;AACA,aAAA,CAAA;AAAA,iBAAA,GAAA;AAAA;;AACA,aAAA,CAAA;AAAA,iBAAA,GAAA;AAAA;;AACA,aAAA,CAAA;AAAA,iBAAA,GAAA;AAAA;AAPA;;AAQA;AACA,aAAA,OAAA,MAAA,WAAA,EAAA,IAAA,MAAA,QAAA,KAAA,CAAA,IAAA,MAAA,OAAA,EAAA,OAAA,IAAA,EAAA;AACA;;AAdA,GAvCA;;AAuDA,YAAA,CACA,CAxDA;;AAyDA,YAAA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,UAAA,EAAA,IAAA,CAAA,OAAA;AACA,UAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AAAA;AACA,aAAA,OAAA,GAAA,CAAA;AACA,OAFA,MAEA,IAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AAAA;AACA,aAAA,OAAA,GAAA,CAAA;AACA,aAAA,IAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,GAAA,IAAA,CAAA,CAAA,EAAA;AAAA;AACA,eAAA,OAAA,GAAA,CAAA;AACA;AACA;AACA,KAVA;AAWA;;AArEA,CAAA","sourcesContent":["<template>\r\n  <header id=\"header\">\r\n    <div class=\"hdTop\">\r\n      <img src=\"../../../img/header.jpg\" >\r\n      <div class=\"user\">\r\n        <!-- 未登录 -->\r\n        <span v-if=\"isLogin==0\">请登录<a @click=\"ToRegist\">注册</a></span>\r\n        <!-- 普通用户登录 -->\r\n        <span v-else-if=\"isLogin==1\">\r\n          用户名：{{user.uname}}\r\n          <!-- <a @click=\"updateUser\">修改账户</a> -->\r\n          <a @click=\"ToShopping\">购物车</a>\r\n          <a>查看订单</a>\r\n          <a @click=\"quitLogin\">退出</a>\r\n        </span>\r\n        <!-- 管理员账号 -->\r\n        <span v-else>\r\n          用户名：{{user.uname}}\r\n          <!-- <a @click=\"updateUser\">修改账户</a> -->\r\n          <a @click=\"Tomanage\" class=\"managePage\">进入系统后台</a>\r\n          <a @click=\"quitLogin\">退出</a>\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"menus\">\r\n      <a @click=\"jumpTo\" v-for=\"(m,i) of menus\" :key=\"i\" :data-id=\"i\" :data-link=\"m.murl\" :class=\"{active:i==mid}\" >{{m.mtitle}}</a>\r\n    </div>\r\n    <div class=\"date\" v-html=\"date\"></div>\r\n  </header>\r\n</template>\r\n<script>\r\nexport default {\r\n  data(){return {\r\n    current:0,\r\n    isLogin:0,\r\n    user:[],\r\n    menus:[\r\n      {\"mtitle\":\"首页\",\"murl\":\"/index\"},\r\n      {\"mtitle\":\"用户专区\",\"murl\":\"\"},\r\n      {\"mtitle\":\"网上超市\",\"murl\":\"/market\"},\r\n      {\"mtitle\":\"电子目录\",\"murl\":\"/book\"},\r\n      {\"mtitle\":\"帮助中心\",\"murl\":\"\"},\r\n      {\"mtitle\":\"联系我们\",\"murl\":\"\"}\r\n    ],\r\n  }},\r\n  methods:{\r\n    select(e){\r\n      this.current=e.target.dataset.id;\r\n    },\r\n    jumpTo(e){  // 导航\r\n      var url=e.target.dataset.link;\r\n      this.$router.push(url);// 点击后跳转到相应的页面，页面地址通过自定义属性data-link获得\r\n    },\r\n    quitLogin(e){ // 退出登录   \r\n      this.axios.get(\"quitLogin\").then(res=>{\r\n        this.isLogin=0;\r\n        this.$router.push(\"/index\");\r\n      })\r\n    },\r\n    ToShopping(){ // 跳转到购物车\r\n        this.$router.push(\"/shoppingcar\");\r\n    },\r\n    Tomanage(){ // 跳转到平后管理\r\n      this.$router.push(\"/manage\")\r\n    },\r\n    ToRegist(){ // 跳转到用户注册\r\n      this.$router.push(\"/Regist\");\r\n    }\r\n  },\r\n  props:[\"mid\"],// 从父组件的mid属性中拿到mid\r\n  computed:{\r\n    date(){\r\n      var today=new Date();\r\n      var week=today.getDay();\r\n      switch(week){\r\n        case 0:week=\"天\";break;\r\n        case 1:week=\"一\";break;\r\n        case 2:week=\"二\";break;\r\n        case 3:week=\"三\";break;\r\n        case 4:week=\"四\";break;\r\n        case 5:week=\"五\";break;\r\n        case 6:week=\"六\";break;\r\n      };\r\n      return `今天是：${today.getFullYear()}年${today.getMonth()+1}月${today.getDate()}日，星期${week}`;\r\n    }\r\n  },\r\n  created(){\r\n  },\r\n  mounted(){\r\n    this.axios.get(\"initUser\").then(res=>{\r\n      if(res.data.code==0){  //未登录        \r\n        this.isLogin=0;\r\n      }else if(res.data.code==1){  // 已登录\r\n        this.isLogin=1;\r\n        this.user=res.data.data[0];\r\n        if(res.data.data[0].uid==-1){//管理员登录\r\n          this.isLogin=2;\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n#header{\r\n  position: relative;\r\n  width:100%;\r\n  height:201px;\r\n}\r\n/* 顶部用户管理 */\r\n#header .user{\r\n  position:absolute;\r\n  right:0;top:5px;\r\n}\r\n#header .user a{margin-left:15px;}\r\n#header div>img{display:block;}\r\n#header .menus{\r\n  width:100%;\r\n  display:flex;padding-left:20px;\r\n  background: url(\"../../../img/nav_bg.jpg\") repeat top center;\r\n}\r\n#header .menus a{\r\n  width:103px;height:37px;\r\n  font-size: 14px;\r\n  color:#fff;line-height:40px;text-align:center;\r\n  margin-top:4px;;\r\n  font-weight:bold;\r\n\r\n}\r\n#header .menus a:hover{color:#FF6C00;}\r\n#header .menus a.active{\r\n  color:#FF6C00;\r\n  background: url(\"../../../img/on_nav.jpg\") repeat top center;\r\n}\r\n#header .date{\r\n  height:42px;\r\n  text-align:right;line-height:48px;color:#fff;\r\n  position: absolute;\r\n  right:20px;top:159px;\r\n}\r\n</style>\r\n\r\n"],"sourceRoot":"src\\components\\stamp_station\\common"}]}