{"remainingRequest":"E:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\Market.vue?vue&type=style&index=0&id=76f3db09&scoped=true&lang=css","dependencies":[{"path":"E:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\Market.vue","mtime":1566311220027},{"path":"E:\\stamp_station\\vue_web\\node_modules\\css-loader\\index.js","mtime":1565362781846},{"path":"E:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1565362803108},{"path":"E:\\stamp_station\\vue_web\\node_modules\\postcss-loader\\lib\\index.js","mtime":1565362796344},{"path":"E:\\stamp_station\\vue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565362776135},{"path":"E:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js","mtime":1565362803105}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n@import \"../css/Market.css\";\r\n",{"version":3,"sources":["Market.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA","file":"Market.vue","sourceRoot":"src\\components\\stamp_station\\common","sourcesContent":["<template>\r\n<div id=\"market\">\r\n\t<!-- 下拉选择框 -->\r\n\t<h3 class=\"choice\">\r\n\t\t<select name=\"pxx\" v-model=\"px\" @change=\"selc\">\r\n\t\t\t<!-- <option value=\"sdate desc\">上架时间</option>\r\n\t\t\t<option value=\"sdate\">上架时间 升序</option> -->\r\n\t\t\t<option value=\"country\">按发行国家排列</option>\r\n\t\t\t<option value=\"price desc\">按价格从高到低</option>\r\n\t\t\t<option value=\"price\">按价格从低到高</option>\r\n\t\t\t<option value=\"sdate\">按商品发行时间</option>\r\n\t\t</select>\r\n\t</h3>\r\n\t<div class=\"probox\">\r\n\t<!-- 商品 -->\r\n\t\t<div class=\"product\" v-for=\"(prop,i) of pros\" :key=\"i\">\r\n\t\t\t<div class=\"product-img\">\r\n\t\t\t\t<a :data-sid=\"prop.sid\" @click=\"info\" :style=\"`background-image:url('${prop.imgurl}');`\"></a>\r\n\t\t\t</div>\t\t\t\r\n\t\t\t<ul>\r\n\t\t\t\t<li>编号：{{prop.snum}}</li>\r\n\t\t\t\t<li>国家：{{prop.nname}}</li>\r\n\t\t\t\t<li>发行年份：{{prop.sdate}}</li>\r\n\t\t\t\t<li class=\"title\">内容：{{prop.stitle}}</li>\r\n\t\t\t\t<li>价格：{{prop.price}}</li>\r\n\t\t\t</ul>\r\n\t\t\t<div class=\"collection\">\r\n\t\t\t\t<a href=\"javascript:;\"></a>\r\n\t\t\t\t<a @click=\"addcart\" :data-sid=\"prop.sid\"></a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- 引入分页栏 -->\r\n\t<pagination></pagination>\r\n</div>\r\n</template>\r\n<script>\r\nimport pagination from \"./pagination\";\r\nexport default {\r\n\tdata(){return {\r\n\t\tpros:[],\r\n\t\tpx:\"sdate\",\r\n\t\tpage:0\r\n\t}},\r\n\tcomponents: {pagination},\r\n\tmethods:{\r\n\t\taddcart(e){ // 添加商品到购物车\r\n\t\t\tvar sid=e.target.dataset.sid;\r\n\t\t\tthis.axios.get(\"addcart\",{params:{sid}}).then(res=>{\r\n\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\tthis.$toast(\"请先登录\");\t\t\t\t\t\r\n\t\t\t\t}else if(res.data.code==1){\r\n\t\t\t\t\tthis.$toast(\"添加成功\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tinfo(e){\r\n\t\t\tvar sid=e.target.dataset.sid;\r\n\t\t\tvar url=`info?sid=${sid}`;\r\n\t\t\tthis.$router.push(url);\r\n\t\t},\r\n\t\tselc(){\r\n\t\t\tvar px=this.px;\r\n\t\t\tvar country=this.country;\r\n\t\t\tvar price=this.price;\r\n\t\t\tvar setTime=this.setTime;\r\n\t\t\tthis.axios.get(\"market\",\r\n\t\t\t\t{params:{px}},\r\n\t\t\t\t{params:{country}},\r\n\t\t\t\t{params:{price}},\r\n\t\t\t\t{params:{sdate}})\r\n\t\t\t.then(res=>{\r\n\t\t\t\tthis.pros=res.data.data;\r\n\t\t\t\tfor(var pro of this.pros){\r\n\t\t\t\t\tvar date=pro.sdate;\r\n\t\t\t\t\tvar sdate=new Date(date);\r\n\t\t\t\t\tvar year=sdate.getUTCFullYear();\r\n\t\t\t\t\tvar month=sdate.getMonth()+1;\r\n\t\t\t\t\tvar date1=sdate.getDate();\r\n\t\t\t\t\tpro.sdate=year+\"-\"+month+\"-\"+date1\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tloadMore(){\r\n\t\t// 获取商品分页数据\r\n\t\tvar url=\"pros\";\r\n\t\tthis.page++;\r\n\t\tvar obj={page:this.page};\r\n\t\tthis.axios.get(url,{params:obj}).then(res=>{\r\n\t\t\t// 获取返回结果\r\n\t\t\tconsole.log(res.data.data);\r\n\t\t\tthis.pros=res.data.data\r\n\t\t\t})\r\n\t\t},\r\n\t},\r\n\tcreated(){\r\n\t\t// this.loadMore();\r\n\t\t// console.log(\"1:created 创建组件成功\")\r\n\t\t// 获取后台数据\r\n\t\tvar px=this.px;\r\n\t\tthis.axios.get(\"market\",{params:{px}}).then(res=>{\r\n\t\t\tthis.pros=res.data.data;\r\n\t\t\tfor(var pro of this.pros){\r\n\t\t\t\tvar date=pro.sdate;\r\n\t\t\t\tvar sdate=new Date(date);\r\n\t\t\t\tvar year=sdate.getUTCFullYear();\r\n\t\t\t\tvar month=sdate.getMonth()+1;\r\n\t\t\t\tvar date1=sdate.getDate();\r\n\t\t\t\tpro.sdate=year+\"-\"+month+\"-\"+date1\r\n\t\t\t}\r\n\t\t})\r\n\t\t// var date=new Date(this.pros[0]);\r\n\t\t// console.log(date)\r\n\t\t// date=getFullYear(date);\r\n\t},\r\n}\r\n</script>\r\n<style scoped>\r\n@import \"../css/Market.css\";\r\n</style>\r\n\r\n\r\n"]}]}